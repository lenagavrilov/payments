{% extends "search/layout.html" %}



{% block body %}
        
        <h1>Search for payment </h1>

        <div>
            <label for="paymentsKind">From Payment Kind: </label>
            <select name="paymentKind">
                {% for paymentKind in paymentKinds %}   
                    <option value="{{ paymentKind.id }}"> {{paymentKind.id}}
                        <label>- {{ paymentKind.definition}}</label>
                    </option>
                {% endfor %}
            </select>  
            
            <label for="paymentsKind">To Payment Kind: </label>
            <select name="paymentKind">
                {% for paymentKind in paymentKinds %}   
                    <option value="{{ paymentKind.id }}"> {{paymentKind.id}}
                        <label>- {{ paymentKind.definition}}</label>
                    </option>
                {% endfor %}
            </select>  

        </div>

        <div>
            <label for="checks">From Check </label>
            <select name="checks">
                {% for check in checks %}
                    <option value=" {{ check.checkNumber}}"> {{check.checkNumber}}</option>
                {% endfor %}
            </select>
            <label for="checks">To Check </label>
            <select name="checks">
                {% for check in checks %}
                    <option value=" {{ check.checkNumber}}"> {{check.checkNumber}}</option>
                {% endfor %}
            </select>

        </div>

        <div>
            <label for="supplyer">From Supplyer</label>
            <select name="supplyer">
                {% for supplyer in supplyers %}
                    <option value="{{ supplyer.id}}"> {{ supplyer.id}} 
                        <label>- {{ supplyer.supplyerName }}</label>
                    </option>
                    
                {% endfor %}
            </select>
            <label for="supplyer">To Supplyer</label>
            <select name="supplyer">
                {% for supplyer in supplyers %}
                    <option value="{{ supplyer.id}}"> {{ supplyer.id}}
                        <label>- {{ supplyer.supplyerName }}</label>
                    </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label for='startDate'>From Date</label>
            <input name="paymentfromDate" type='date' value="{{ startDate }}">
            <label for='startDate'>To Date</label>
            <input name="paymentToDate" type='date' value="{{ finishDate }}">
            
        </div>

        <div>
            <label for="status">From Status</label>
            <select name="status">
                {% for status in statuses %}
                    <option value="{{ status.id }}">{{ status.id }}
                        <label>- {{ status.definition }}</label>
                    </option>
                {% endfor %}
            </select>
            <label for="status">To Status</label>
            <select name="status">
                {% for status in statuses %}
                    <option value="{{ status.id }}">{{ status.id }}
                        <label>- {{ status.definition }}</label>
                    </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <input type="submit" value="Search">
        </div>

        <table>
            <thead>
                <tr>
                    {% for columnName in columnsNames %}
                        <th> {{ columnName }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                <tr>
                    {% for payment in payments %}
                        <td> {{ payment.paymentKind }}</td>
                        <td> {{ payment.checkNumber }}</td> 
                        <td> {{ payment.paymentDate }}</td>
                        <td> {{ payment.supplyer }} </td>
                        <td> {{ payment.details }} </td>
                        <td> {{ payment.givenOutDate }} </td>
                        <td> {{ payment.paymentNumberInSeries }} </td>
                        <td> {{ payment.quantityinSeries }} </td>
                        <td> {{ payment.status }} </td>
                        <td> {{ payment.refuseReason }} </td>
                        <td> {{ payment.refuseDate }} </td>
                        <td> {{ payment.givenInstead }} </td>
                        <td> {{ payment.alternativeSupplyer }} </td>
                        <td> {{ payment.checkBook }} </td>
                    {% endfor %}
                 </tr>
            </tbody>

        </table>

        <div>
            <h1>Payments: </h1>
            <ol>{%for payment in payments %}
                <li>
                    <a href="{% url 'search:payment' payment.id %}">
                    Payment: {{ payment.paymentKind }}, amount: {{ payment.amount }} to be paid on {{ payment.paymentDate }} </li>
                    </a>
                {% endfor %}

            </ol>
        </div>
{% endblock %}

